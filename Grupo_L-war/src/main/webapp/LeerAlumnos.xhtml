<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>Alumno</title>
	<h:outputStylesheet library="css" name="Layout.css" />
	<h:outputStylesheet library="css" name="Estilos.css" />
</h:head>

<h:body>
	<ui:fragment rendered="#{not empty infoSesion.alumno}">
	<div class="inicio"><p>Hola, <h:outputText value="#{infoSesion.alumno.nombre}"/>.</p></div>
	</ui:fragment>
	<ui:fragment rendered="#{not empty infoSesion.personal}">	
	<div class="inicio"><p>Hola, <h:outputText value="#{infoSesion.personal.rango}"/>.</p></div>
	</ui:fragment>
	
	<h:form>
	<div class="cerrar"> <h:commandLink action="#{infoSesion.invalidarSesion()}">Cerrar Sesion</h:commandLink> </div>
	</h:form>
	<div class="inicio"> <h:button value="INICIO" outcome="Principal.xhtml" /> </div>

	<h1 class="titulo">ALUMNOS</h1>

	<ui:fragment rendered="#{not empty infoSesion.alumno}">
		<div class="izquierda">
			<b> MIS DATOS </b><br></br>
			<br></br> 
			<a href="#" style="text-decoration: none">Leer Encuesta</a><br></br>
			<a href="#" style="text-decoration: none">Leer Asignatura Matricula</a><br></br> 
			<a href="LeerMatricula.xhtml" style="text-decoration: none">Leer Matricula</a><br></br> 
			<a href="LeerTitulacion.xhtml" style="text-decoration: none">Leer Titulacion</a><br></br> 
			<a href="LeerAlumnos.xhtml" style="text-decoration: none">Leer Usuario</a><br></br> 
			<a href="LeerAsignaturas.xhtml" style="text-decoration: none">Leer Asignatura</a><br></br> 
			<a href="#" style="text-decoration: none">Leer Clase</a><br></br> 
			<a href="LeerExpediente.xhtml" style="text-decoration: none">Leer Expediente</a>
		</div>
		
		<div class="centro">
		 	<div class="izquierdaCentro">
				<b>Titulaciones: </b> <br></br>
			</div>
			
			<h:form id="expediente">
            	<p:commandButton value="Mostar" actionListener="#{alumnoBB.alumno}" update="dtAlumno" />
				
				<p:dataTable id="dtAlumno" value="#{alumnoBB.alumno}" var="a">
					<p:column headerText="DNI" filterBy="#{a.DNI}"
						filterMatchMode="contains">
						<p:outputLabel value="#{a.DNI}" />
					</p:column>
		
					<p:column headerText="Nombre" filterBy="#{a.Nombre}"
						filterMatchMode="contains">
						<p:outputLabel value="#{a.Nombre}" />
					</p:column>
		
					<p:column headerText="Apellido1" filterBy="#{a.Apellido1}"
						filterMatchMode="contains">
						<p:outputLabel value="#{a.Apellido1}" />
					</p:column>
		
					<p:column headerText="Apellido2" filterBy="#{a.Apellido2}"
						filterMatchMode="contains">
						<p:outputLabel value="#{a.Apellido2}" />
					</p:column>
		
					<p:column headerText="Email_Institucional"
						filterBy="#{a.Email_Institucional}" filterMatchMode="contains">
						<p:outputLabel value="#{a.Email_Institucional}" />
					</p:column>
		
					<p:column headerText="Email_Personal" filterBy="#{a.Email_Personal}"
						filterMatchMode="contains">
						<p:outputLabel value="#{a.Email_Personal}" />
					</p:column>
		
					<p:column headerText="Móvil" filterBy="#{a.Movil}"
						filterMatchMode="contains">
						<p:outputLabel value="#{a.Movil}" />
					</p:column>
		
					<p:column headerText="Direccion" filterBy="#{a.Direccion}"
						filterMatchMode="contains">
						<p:outputLabel value="#{a.Direccion}" />
					</p:column>
		
					<p:column headerText="Localidad" filterBy="#{a.Localidad}"
						filterMatchMode="contains">
						<p:outputLabel value="#{a.Localidad}" />
					</p:column>
		
					<p:column headerText="Provincia" filterBy="#{a.Provincia}"
						filterMatchMode="contains">
						<p:outputLabel value="#{a.Provincia}" />
					</p:column>
		
					<p:column headerText="CP" filterBy="#{a.CP}"
						filterMatchMode="contains">
						<p:outputLabel value="#{a.CP}" />
					</p:column>
				</p:dataTable>
			</h:form>
		</div>
	</ui:fragment>

	<ui:fragment rendered="#{not empty infoSesion.personal}">
		<h:form styleClass="centrado">
			<p:commandButton value="Mostar" actionListener="#{alumnoBB.alumnos}" update="dtAlumnos" />
	
			<p:dataTable id="dtAlumnos" value="#{alumnoBB.alumnos}" var="a">
			
				<p:column headerText="DNI" filterBy="#{a.DNI}"
					filterMatchMode="contains">
					<p:outputLabel value="#{a.DNI}" />
				</p:column>
	
				<p:column headerText="Nombre" filterBy="#{a.nombre}"
					filterMatchMode="contains">
					<p:outputLabel value="#{a.nombre}" />
				</p:column>
	
				<p:column headerText="Apellido1" filterBy="#{a.apellido1}"
					filterMatchMode="contains">
					<p:outputLabel value="#{a.apellido1}" />
				</p:column>
	
				<p:column headerText="Apellido2" filterBy="#{a.apellido2}"
					filterMatchMode="contains">
					<p:outputLabel value="#{a.apellido2}" />
				</p:column>
	
				<p:column headerText="Email_Institucional"
					filterBy="#{a.email_Institucional}" filterMatchMode="contains">
					<p:outputLabel value="#{a.email_Institucional}" />
				</p:column>
	
				<p:column headerText="Email_Personal" filterBy="#{a.email_Personal}"
					filterMatchMode="contains">
					<p:outputLabel value="#{a.email_Personal}" />
				</p:column>
	
				<p:column headerText="Móvil" filterBy="#{a.movil}"
					filterMatchMode="contains">
					<p:outputLabel value="#{a.movil}" />
				</p:column>
	
				<p:column headerText="Direccion" filterBy="#{a.direccion}"
					filterMatchMode="contains">
					<p:outputLabel value="#{a.direccion}" />
				</p:column>
	
				<p:column headerText="Localidad" filterBy="#{a.localidad}"
					filterMatchMode="contains">
					<p:outputLabel value="#{a.localidad}" />
				</p:column>
	
				<p:column headerText="Provincia" filterBy="#{a.provincia}"
					filterMatchMode="contains">
					<p:outputLabel value="#{a.provincia}" />
				</p:column>
	
				<p:column headerText="CP" filterBy="#{a.CP}"
					filterMatchMode="contains">
					<p:outputLabel value="#{a.CP}" />
				</p:column>
	
				<p:column headerText="APELLIDOS" sortBy="#{a.apellido1}">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{a.apellido1}" />
						</f:facet>
						<f:facet name="input">
							<p:inputText id="name" value="#{a.apellido1}"
								label="APELLIDOS" />
						</f:facet>
					</p:cellEditor>
				</p:column>
	
			</p:dataTable>
		</h:form>
	</ui:fragment>
	
	<div class="pie">Universidad de Málaga · Avda. Cervantes, 2. 29071 MÁLAGA · Tel. 952131000 · info@uma.es</div>

</h:body>
</html>