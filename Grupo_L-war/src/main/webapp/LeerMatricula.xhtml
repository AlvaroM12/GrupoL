<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>LEER MATRICULA</title>
	<h:outputStylesheet library="css" name="Layout.css" />
	<h:outputStylesheet library="css" name="Estilos.css" />
</h:head>

<h:body>
	<ui:fragment rendered="#{not empty infoSesion.alumno}">
	<div class="inicio"><p>Hola, <h:outputText value="#{infoSesion.alumno.nombre}"/>.</p></div>
	</ui:fragment>
	<ui:fragment rendered="#{not empty infoSesion.personal}">	
	<div class="inicio"><p>Hola, <h:outputText value="#{infoSesion.personal.rango}"/>.</p></div>
	</ui:fragment>
	<h:form>
	<div class="cerrar"> <h:commandLink action="#{infoSesion.invalidarSesion()}">Cerrar Sesion</h:commandLink> </div>
	</h:form>
	<div class="inicio"> <h:button value="Inicio" outcome="Principal.xhtml" /> </div>

	<h1 class="titulo">Matricula</h1>

	<ui:fragment rendered="#{not empty infoSesion.alumno}">
		<div id="caja" class="izquierda"   >
			<b>MIS DATOS </b><br></br><br></br> 
			<a href="LeerEncuesta.xhtml" style="text-decoration: none">Leer Encuesta</a><br></br>
			<a href="LeerAsignaturaMatricula.xhtml" style="text-decoration: none">Leer Asignatura Matricula</a><br></br>
			<a href="LeerMatricula.xhtml" style="text-decoration: none">Leer Matricula</a><br></br> 
			<a href="LeerTitulacion.xhtml" style="text-decoration: none">Leer Titulacion</a><br></br> 
			<a href="LeerAlumnos.xhtml" style="text-decoration: none">Leer Usuario</a><br></br> 
			<a href="LeerAsignaturas.xhtml" style="text-decoration: none">Leer Asignatura</a><br></br> 
			<a href="LeerClase.xhtml" style="text-decoration: none">Leer Clase</a><br></br> 
			<a href="LeerExpediente.xhtml" style="text-decoration: none">Leer Expediente</a>
		</div>
	
		<h:form id="caja" styleClass="centro">
			<p:commandButton value="Mostar" actionListener="#{matriculaBB.matriculaAlumno}" update="dtMat" />
		
			<p:dataTable id="dtMat" value="#{matriculaBB.matriculaAlumno}" var="m">
	
				<p:column id="a" headerText="Curso Academico" filterBy="#{m.curso_Academico}"
					filterMatchMode="contains">
					<p:outputLabel id="ab" value="#{m.curso_Academico}" />
				</p:column>
	
				<p:column id="b" headerText="Estado" filterBy="#{m.estado}"
					filterMatchMode="contains">
					<p:outputLabel id="ba" value="#{m.estado}" />
				</p:column>
	
				<p:column id="c" headerText="Numero Archivo" filterBy="#{m.num_Archivo}"
					filterMatchMode="contains">
					<p:outputLabel id="ca" value="#{m.num_Archivo}" />
				</p:column>
	
				<p:column id="d" headerText="Turno Preferente" filterBy="#{m.turno_Preferente}"
					filterMatchMode="contains">
					<p:outputLabel id="da" value="#{m.turno_Preferente}" />
				</p:column>
	
				<p:column id="e" headerText="Fecha de matricula" filterBy="#{m.fecha_De_Matricula}"
					 filterMatchMode="contains">
					<p:outputLabel id="ea" value="#{m.fecha_De_Matricula}" />
				</p:column>
	
				<p:column id="f" headerText="Nuevo Ingreso" filterBy="#{m.nuevo_Ingreso}"
					filterMatchMode="contains">
					<p:outputLabel id="fa" value="#{m.nuevo_Ingreso}" />
				</p:column>
	
				<p:column id="g" headerText="Listado Asignaturas" filterBy="#{m.a}"
					filterMatchMode="contains">
					<p:outputLabel id="ga" value="#{m.a}" />
				</p:column>
	
				<p:column id="h" headerText="Expediente" filterBy="#{m.EM.num_Expediente}"
					filterMatchMode="contains">
					<p:outputLabel id="ha" value="#{m.EM.num_Expediente}" />
				</p:column>
			</p:dataTable>
		</h:form>
	</ui:fragment>

	<ui:fragment rendered="#{not empty infoSesion.personal}">
		<h:form id="caja1" styleClass="centrado">
		
			<div class="importarMatricula">
				<h:button id="impMat" value="Importar Matricula"
					outcome="ImportarMatricula.xhtml" />
			</div>
			
			<p:commandButton value="Mostar" actionListener="#{matriculaBB.matriculas}" update="dtGrupos" />
		
			<p:dataTable id="dtGrupos" value="#{matriculaBB.matriculas}" var="m">
	
				<p:column id="i" headerText="Curso Academico" filterBy="#{m.curso_Academico}"
					filterMatchMode="contains">
					<p:outputLabel value="#{m.curso_Academico}" />
				</p:column>
	
				<p:column id="j" headerText="Estado" filterBy="#{m.estado}"
					filterMatchMode="contains">
					<p:outputLabel value="#{m.estado}" />
				</p:column>
	
				<p:column id="k" headerText="Numero Archivo" filterBy="#{m.num_Archivo}"
					filterMatchMode="contains">
					<p:outputLabel value="#{m.num_Archivo}" />
				</p:column>
	
				<p:column id="l" headerText="Turno Preferente" filterBy="#{m.turno_Preferente}"
					filterMatchMode="contains">
					<p:outputLabel value="#{m.turno_Preferente}" />
				</p:column>
	
				<p:column id="m" headerText="Fecha de matricula" filterBy="#{m.fecha_De_Matricula}"
					 filterMatchMode="contains">
					<p:outputLabel value="#{m.fecha_De_Matricula}" />
				</p:column>
	
				<p:column id="n" headerText="Nuevo Ingreso" filterBy="#{m.nuevo_Ingreso}"
					filterMatchMode="contains">
					<p:outputLabel value="#{m.nuevo_Ingreso}" />
				</p:column>
	
				<p:column id="o" headerText="Listado Asignaturas" filterBy="#{m.a}"
					filterMatchMode="contains">
					<p:outputLabel value="#{m.a}" />
				</p:column>
	
				<p:column id="p" headerText="Expediente" filterBy="#{m.EM.num_Expediente}"
					filterMatchMode="contains">
					<p:outputLabel value="#{m.EM.num_Expediente}" />
				</p:column>
	
			</p:dataTable>
		</h:form>
	</ui:fragment>

	<div class="pie">Universidad de Málaga · Avda. Cervantes, 2.
		29071 MÁLAGA · Tel. 952131000 · info@uma.es</div>

</h:body>
</html>
