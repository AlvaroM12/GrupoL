<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>Leer Asignaturas</title>
	<h:outputStylesheet library="css" name="Layout.css"  />
	<h:outputStylesheet library="css" name="Estilos.css"  />
</h:head>

<h:body>
	<ui:fragment rendered="#{not empty infoSesion.alumno}">
	<div class="inicio"><p>Hola, <h:outputText value="#{infoSesion.alumno.nombre}"/>.</p></div>
	</ui:fragment>
	<ui:fragment rendered="#{not empty infoSesion.personal}">	
	<div class="inicio"><p>Hola, <h:outputText value="#{infoSesion.personal.rango}"/>.</p></div>
	</ui:fragment>
	
	<h:form>
	<div class="cerrar"> <h:commandLink action="#{infoSesion.invalidarSesion()}">Cerrar Sesion</h:commandLink> </div>
	</h:form>
	<div class="inicio"> <h:button value="INICIO" outcome="Principal.xhtml" /> </div>
	
	<h1 class="titulo"> Asignaturas </h1>
	
	<ui:fragment rendered="#{not empty infoSesion.alumno}">
		
		<div class="izquierda">
			<b> MIS DATOS </b><br></br>
			<br></br> 
			<a href="LeerEncuestra.xhtml" style="text-decoration: none">Leer Encuesta</a><br></br>
			<a href="LeerAsignaturaMatricula.xhtml" style="text-decoration: none">Leer Asignatura Matricula</a><br></br> 
			<a href="LeerMatricula.xhtml" style="text-decoration: none">Leer Matricula</a><br></br> 
			<a href="LeerTitulacion.xhtml" style="text-decoration: none">Leer Titulacion</a><br></br> 
			<a href="LeerAlumnos.xhtml" style="text-decoration: none">Leer Usuario</a><br></br> 
			<a href="LeerAsignaturas.xhtml" style="text-decoration: none">Leer Asignatura</a><br></br> 
			<a href="LeerClase.xhtml" style="text-decoration: none">Leer Clase</a><br></br> 
			<a href="LeerExpediente.xhtml" style="text-decoration: none">Leer Expediente</a>
		</div>

		<h:form>
			<div class="izquierdaCentro">
				<b>Asignaturas: </b> <br></br>
			</div>
			
			<p:commandButton value="Mostar" actionListener="#{asignaturaBB.asignaturaAlumno}" update="dtAsig" />
				
			<p:dataTable styleClass="card" id="dtAsig" value="#{asignaturaBB.asignaturaAlumno}" var="a">
				<p:column headerText="Referencia" filterBy="#{a.referencia}" filterMatchMode="contains">
					<p:outputLabel value="#{a.referencia}" />
				</p:column>
				<p:column headerText="Codigo" filterBy="#{a.codigo}" filterMatchMode="contains">
					<p:outputLabel value="#{a.codigo}" />
				</p:column>
				<p:column headerText="Créditos Teoricos" filterBy="#{a.creditos_Teoricos}" filterMatchMode="contains">
					<p:outputLabel value="#{a.creditos_Teoricos}" />
				</p:column>
				<p:column headerText="Créditos Practicos" filterBy="#{a.creditos_Practicos}" filterMatchMode="contains">
					<p:outputLabel value="#{a.creditos_Practicos}" />
				</p:column>
				<p:column headerText="Total Créditos" filterBy="#{a.total_Creditos}" filterMatchMode="contains">
					<p:outputLabel value="#{a.total_Creditos}" />
				</p:column>
				<p:column headerText="Ofertada" filterBy="#{a.ofertada}" filterMatchMode="contains">
					<p:outputLabel value="#{a.ofertada}" />
				</p:column>
				<p:column headerText="Nombre" filterBy="#{a.nombre}" filterMatchMode="contains">
					<p:outputLabel value="#{a.nombre}" />
				</p:column>
				<p:column headerText="Curso" filterBy="#{a.curso}" filterMatchMode="contains">
					<p:outputLabel value="#{a.curso}" />
				</p:column>
				<p:column headerText="Plazas" filterBy="#{a.plazas}" filterMatchMode="contains">
					<p:outputLabel value="#{a.plazas}" />
				</p:column>
				<p:column headerText="Cuatrimestre" filterBy="#{a.cuatrimestre}" filterMatchMode="contains">
					<p:outputLabel value="#{a.cuatrimestre}" />
				</p:column>
				<p:column headerText="Idioma de imparticion" filterBy="#{a.idioma_de_imparticion}" filterMatchMode="contains">
					<p:outputLabel value="#{a.idioma_de_imparticion}" />
				</p:column>
			</p:dataTable>
		</h:form>
	</ui:fragment >

	<ui:fragment rendered="#{not empty infoSesion.personal}">
		<h:form>
			<div class="izquierdaCentro">
				<b>Asignaturas: </b> <br></br>
			</div>
			
			<p:commandButton value="Mostar" actionListener="#{asignaturaBB.asignaturas}" update="dtAsignaturas" />
				
			<p:dataTable styleClass="card" id="dtAsignaturas" value="#{asignaturaBB.asignaturas}" var="a">
				<p:column headerText="Referencia" filterBy="#{a.referencia}" filterMatchMode="contains">
					<p:outputLabel value="#{a.referencia}" />
				</p:column>
				<p:column headerText="Codigo" filterBy="#{a.codigo}" filterMatchMode="contains">
					<p:outputLabel value="#{a.codigo}" />
				</p:column>
				<p:column headerText="Créditos Teoricos" filterBy="#{a.creditos_Teoricos}" filterMatchMode="contains">
					<p:outputLabel value="#{a.creditos_Teoricos}" />
				</p:column>
				<p:column headerText="Créditos Practicos" filterBy="#{a.creditos_Practicos}" filterMatchMode="contains">
					<p:outputLabel value="#{a.creditos_Practicos}" />
				</p:column>
				<p:column headerText="Total Créditos" filterBy="#{a.total_Creditos}" filterMatchMode="contains">
					<p:outputLabel value="#{a.total_Creditos}" />
				</p:column>
				<p:column headerText="Ofertada" filterBy="#{a.ofertada}" filterMatchMode="contains">
					<p:outputLabel value="#{a.ofertada}" />
				</p:column>
				<p:column headerText="Nombre" filterBy="#{a.nombre}" filterMatchMode="contains">
					<p:outputLabel value="#{a.nombre}" />
				</p:column>
				<p:column headerText="Curso" filterBy="#{a.curso}" filterMatchMode="contains">
					<p:outputLabel value="#{a.curso}" />
				</p:column>
				<p:column headerText="Plazas" filterBy="#{a.plazas}" filterMatchMode="contains">
					<p:outputLabel value="#{a.plazas}" />
				</p:column>
				<p:column headerText="Cuatrimestre" filterBy="#{a.cuatrimestre}" filterMatchMode="contains">
					<p:outputLabel value="#{a.cuatrimestre}" />
				</p:column>
				<p:column headerText="Idioma de imparticion" filterBy="#{a.idioma_de_imparticion}" filterMatchMode="contains">
					<p:outputLabel value="#{a.idioma_de_imparticion}" />
				</p:column>
			</p:dataTable>
		</h:form>
		
		<div class="importarMatricula">
			<h:button value="Importar Asignatura" outcome="ImportarAsignatura.xhtml" />
		</div>
	</ui:fragment>

	<div class="pie"> 
		Universidad de Málaga · Avda. Cervantes, 2. 29071 MÁLAGA · Tel. 952131000 · info@uma.es	
	</div>
	
</h:body>
</html>
