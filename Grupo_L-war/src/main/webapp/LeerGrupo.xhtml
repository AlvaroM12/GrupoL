<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>LEER GRUPO</title>
	<h:outputStylesheet library="css" name="Layout.css"  />
	<h:outputStylesheet library="css" name="Estilos.css"  />
</h:head>

<h:body>

	<div class="inicio">
		<h:button value="INICIO" outcome="Principal.xhtml" />
	</div>
	
	<ui:fragment rendered="#{not empty infoSesion.personal}">	
	<div class="inicio"><p>Hola, <h:outputText value="#{infoSesion.personal.rango}"/>.</p></div>
	</ui:fragment>
	
	<h:form>
	<div class="cerrar"> <h:commandLink action="#{infoSesion.invalidarSesion()}">Cerrar Sesion</h:commandLink> </div>
	</h:form>
	
	<h1 id="grupos" class="titulo"> Leer Grupo </h1>
		
		<h:form id="tabla" styleClass="centrado">
			<p:commandButton value="Mostar" actionListener="#{grupoBB.grupos}" update="dtGrupos" />
			
			<h:commandButton id="crear" action="#{grupoBB.crearGrupo()}" value="Crear grupo"/>
			
	
			<p:dataTable id="dtGrupos" value="#{grupoBB.grupos}" var="g">
			
				<p:column id="ID" headerText="ID" filterBy="#{g.ID}"
					filterMatchMode="contains">
					<p:outputLabel value="#{g.ID}" />
				</p:column>
	
				<p:column id="curso" headerText="Curso" filterBy="#{g.curso}"
					filterMatchMode="contains">
					<p:outputLabel value="#{g.curso}" />
				</p:column>
	
				<p:column id="letra" headerText="Letra" filterBy="#{g.letra}"
					filterMatchMode="contains">
					<p:outputLabel value="#{g.letra}" />
				</p:column>
	
				<p:column id="turno" headerText="Turno" filterBy="#{g.turno_Maniana_Tarde}"
					filterMatchMode="contains">
					<p:outputLabel value="#{g.turno_Maniana_Tarde}" />
				</p:column>
	
				<p:column id="ingles" headerText="Ingles"
					filterBy="#{g.ingles}" filterMatchMode="contains">
					<p:outputLabel value="#{g.ingles}" />
				</p:column>
	
				<p:column id="visible" headerText="Visible" filterBy="#{g.visible}"
					filterMatchMode="contains">
					<p:outputLabel value="#{g.visible}" />
				</p:column>
	
				<p:column id="asignar" headerText="Asignar" filterBy="#{g.asignar}"
					filterMatchMode="contains">
					<p:outputLabel value="#{g.asignar}" />
				</p:column>
	
				<p:column id="plazas" headerText="Plazas" filterBy="#{g.plazas}"
					filterMatchMode="contains">
					<p:outputLabel value="#{g.plazas}" />
				</p:column>
				
				<p:column id="tgCodigo" headerText="Titulacion" filterBy="#{g.TG.codigo}"
					filterMatchMode="contains">
					<p:outputLabel value="#{g.TG.codigo}" />
				</p:column>
	
				<p:column headerText="CURSO" sortBy="#{g.curso}">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{g.curso}" />
						</f:facet>
						<f:facet name="input">
							<p:inputText id="name" value="#{g.curso}"
								label="CURSO" />
						</f:facet>
					</p:cellEditor>
				</p:column>
				
				<p:column headerText="Eliminar">
					<h:commandButton id="eliminar" action="#{grupoBB.eliminarGrupo(g)}" value="Eliminar"/>
				</p:column>
				
				<p:column headerText="Modificar">
					<h:commandButton id="modificar" action="#{grupoBB.actualizarGrupo(g)}" value="Modificar"/>
				</p:column>
	
			</p:dataTable>
		</h:form>
	
	<div class="pie"> 
		Universidad de Málaga · Avda. Cervantes, 2. 29071 MÁLAGA · Tel. 952131000 · info@uma.es	
	</div>
	
</h:body>
</html>